<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Lokonex</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+Telugu:wght@400;700&display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<!-- Cache Control -->
<meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate" />
<meta http-equiv="Pragma" content="no-cache" />
<meta http-equiv="Expires" content="0" />

<style>
*{margin:0;padding:0;box-sizing:border-box}
html, body {
  height: 100%;
  width: 100%;
  overflow-x: hidden;
}
body{
  font-family:'Inter',sans-serif;
  background:linear-gradient(135deg,#0f2027,#203a43,#2c5364);
  color:#fff;
  min-height:100vh;
  overflow-x:hidden;
  padding-top:70px;
}
header{
  position:fixed;
  top:0;
  left:0;
  right:0;
  background:rgba(15,32,39,0.95);
  backdrop-filter:blur(12px);
  border-bottom:1px solid rgba(255,215,0,0.2);
  z-index:1000;
  padding:0.8rem 4%;
  display:flex;
  justify-content:space-between;
  align-items:center;
  flex-wrap:nowrap;
  gap:1rem;
}
.logo{font-size:1.5rem;font-weight:700;background:linear-gradient(90deg,#ffd700,#ff8c00);-webkit-background-clip:text;-webkit-text-fill-color:transparent;display:flex;align-items:center;gap:8px;white-space:nowrap}
.logo img{width:32px;height:32px;border-radius:50%;border:2px solid #ffd700}
.datetime{font-size:0.75rem;color:#ffd700;font-weight:500;white-space:nowrap;text-align:center;flex-shrink:0;position:absolute;left:50%;transform:translateX(-50%);}
nav{display:flex;gap:0.8rem;flex-wrap:nowrap;justify-content:center;overflow-x:auto;padding-bottom:2px}
nav::-webkit-scrollbar{height:3px}
nav::-webkit-scrollbar-thumb{background:#ffd700;border-radius:10px}
nav a{font-weight:500;color:#fff;cursor:pointer;padding:0.4rem 0.5rem;position:relative;white-space:nowrap;font-size:0.85rem;flex-shrink:0}
nav a::after{content:'';position:absolute;bottom:0;left:0;width:0;height:2px;background:#ffd700;transition:0.3s}
nav a:hover::after{width:100%}
.page{display:none;padding:5rem 2% 2rem;min-height:100vh;width:100%;overflow-x:hidden}
.page.active{display:block}
.card{background:rgba(255,255,255,0.1);backdrop-filter:blur(12px);border:1px solid rgba(255,215,0,0.3);border-radius:16px;padding:1.5rem;box-shadow:0 10px 40px rgba(0,0,0,0.4);max-width:900px;margin:auto;width:100%}
.glow-btn{background:linear-gradient(45deg,#ffd700,#ff8c00);color:#000;border:none;padding:0.6rem 1rem;border-radius:50px;font-weight:600;cursor:pointer;box-shadow:0 0 25px rgba(255,215,0,0.6);transition:0.3s;font-size:0.8rem}
.glow-btn:hover{transform:scale(1.06);box-shadow:0 0 40px rgba(255,215,0,0.9)}
label{display:block;margin:1.2rem 0 0.5rem;font-weight:500;color:#ffd700;font-size:1rem}
input,select,textarea{width:100%;padding:0.9rem;border-radius:12px;border:none;background:rgba(255,255,255,0.2);color:#fff;font-size:1rem;appearance:none;-webkit-appearance:none}
select{background:rgba(255,255,255,0.2) url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='12' height='8' viewBox='0 0 12 8'%3E%3Cpath fill='%23ffd700' d='M0 0l6 8 6-8z'/%3E%3C/svg%3E") no-repeat right 1rem center;background-size:10px}
option{background:#203a43;color:#fff}
#custom-service{display:none;margin-top:0.5rem}
.vendor-card{text-align:center;margin-bottom:2rem;position:relative}
.vendor-card img{width:100px;height:100px;object-fit:cover;border-radius:50%;border:3px solid #ffd700;margin-bottom:1rem}
#popup,#contact-popup{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#000;padding:1.5rem 2rem;border-radius:16px;border:3px solid #ffd700;box-shadow:0 0 40px #ffd700;z-index:9999;text-align:center;display:none;width:90%;max-width:350px}
#popup.show,#contact-popup.show{display:block}
#popup button,#contact-popup button{margin-top:1rem;background:#ffd700;color:#000;padding:0.7rem 1.5rem;border-radius:50px;width:100%}
.banner{text-align:center;padding:1rem 0.5rem;width:100%}
.banner h1{font-size:1.8rem;background:linear-gradient(90deg,#ffd700,#fff);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:0.5rem;line-height:1.3}
.telugu{font-family:'Noto Sans Telugu',sans-serif}
.search-bar{max-width:100%;margin:1.5rem auto;display:flex}
.search-bar input{flex:1;border-radius:12px 0 0 12px}
.search-bar button{border-radius:0 12px 12px 0}
.categories{display:grid;grid-template-columns:repeat(auto-fit,minmax(110px,1fr));gap:0.8rem;margin:1.5rem 0}
.category-btn{background:rgba(255,255,255,0.1);border:2px solid #ffd700;padding:0.8rem;border-radius:16px;text-align:center;cursor:pointer;font-weight:500;font-size:0.8rem}
.category-btn:hover{background:#ffd700;color:#000}
.vendor-grid{display:grid;grid-template-columns:repeat(auto-fit,minmax(280px,1fr));gap:1.2rem}
.vendor-box{background:rgba(255,255,255,0.08);border-radius:16px;padding:1.2rem;border:1px solid rgba(255,215,0,0.3);transition:transform 0.3s, box-shadow 0.3s}
.vendor-box:hover{transform:translateY(-5px);box-shadow:0 10px 25px rgba(255,215,0,0.2)}
.vendor-header{display:flex;align-items:center;gap:1rem;margin-bottom:1rem}
.vendor-img{width:70px;height:70px;border-radius:50%;border:2px solid #ffd700;object-fit:cover}
.vendor-info{text-align:left;flex:1}
.vendor-info h3{margin-bottom:0.5rem;color:#ffd700;font-size:1.1rem}
.vendor-details{text-align:left;margin-bottom:1.2rem}
.vendor-detail{display:flex;align-items:center;gap:0.5rem;margin-bottom:0.5rem;font-size:0.9rem}
.vendor-detail i{color:#ffd700;width:18px}
.vendor-actions{display:flex;gap:0.5rem;justify-content:center}
.call-btn{background:#25d366!important;color:#fff!important}
.whatsapp-btn{background:#075e54!important;color:#fff!important}
#payment-page{background:#111;padding:1.5rem;text-align:center}
#payment-page img{max-width:100%;height:auto;border-radius:16px;border:5px solid #ffd700;margin:1rem 0}
footer{text-align:left;padding:1.5rem 1rem;background:rgba(0,0,0,0.7);font-size:0.85rem;margin-top:2rem}
.footer-content{display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:1.5rem;max-width:1200px;margin:0 auto}
.footer-section h3{color:#ffd700;margin-bottom:1rem;font-size:1.1rem}
.footer-section a{color:#fff;text-decoration:none;display:block;margin-bottom:0.5rem;transition:color 0.3s;font-size:0.85rem;cursor:pointer}
.footer-section a:hover{color:#ffd700}
.footer-section p{margin-bottom:0.5rem;text-align:left;font-size:0.85rem}
.social-icons{display:flex;gap:0.8rem;margin-top:1rem}
.social-icons a{color:#ffd700;font-size:1.3rem;transition:transform 0.3s}
.social-icons a:hover{transform:scale(1.2)}
.copyright{margin-top:1.5rem;padding-top:1rem;border-top:1px solid rgba(255,215,0,0.3);text-align:center}
.expired{color:#e74c3c;font-weight:700}
#admin-body td,#admin-body th{padding:8px 6px;font-size:0.8rem;text-align:left}
#admin-body th{background:#ffd700;color:#000}
#admin-body tr:nth-child(even){background:rgba(255,255,255,0.05)}
#admin-body button{margin:2px;padding:3px 8px;font-size:0.75rem}
.about-grid{display:grid;grid-template-columns:1fr;gap:1.5rem;margin:1.5rem 0}
.about-col{background:rgba(255,255,255,0.08);padding:1.5rem;border-radius:16px;border:1px solid rgba(255,215,0,0.2)}
.icon-glow{font-size:1.8rem;color:#ffd700;filter:drop-shadow(0 0 10px #ffd700);animation:pulse 2s infinite}
@keyframes pulse{0%,100%{transform:scale(1)}50%{transform:scale(1.1)}}
.project-features{display:grid;grid-template-columns:repeat(auto-fit,minmax(220px,1fr));gap:1.2rem;margin:1.5rem 0}
.feature-card{background:rgba(255,255,255,0.08);padding:1.2rem;border-radius:16px;border:1px solid rgba(255,215,0,0.2);text-align:center}
.feature-card i{font-size:2.2rem;color:#ffd700;margin-bottom:1rem}
.legal-notice{background:rgba(255,215,0,0.1);border:1px solid rgba(255,215,0,0.3);border-radius:12px;padding:1.2rem;margin:1.5rem 0;font-size:1rem;line-height:1.6;text-align:left}
.legal-notice p{margin-bottom:1rem;text-align:left}
.legal-notice strong{color:#ffd700;font-size:1.1rem}
.about-hero{text-align:center;margin-bottom:2rem;padding:0 0.5rem}
.about-hero h1{font-size:1.8rem;background:linear-gradient(90deg,#ffd700,#ff8c00,#ffd700);-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:1rem;line-height:1.3}
.about-hero p{font-size:1rem;max-width:100%;margin:0 auto;line-height:1.4}
.about-content{display:flex;flex-direction:column;gap:1.5rem}
.about-section{padding:1.5rem;border-radius:16px;border-left:5px solid #ffd700}
.about-section h2{color:#ffd700;margin-bottom:1rem;display:flex;align-items:center;gap:10px;font-size:1.3rem}
.about-section p{line-height:1.6;margin-bottom:1rem;font-size:0.95rem;text-align:justify}
.about-highlights{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:1.2rem;margin:1.5rem 0}
.highlight-item{text-align:center;padding:1.2rem}
.highlight-item i{font-size:2.2rem;color:#ffd700;margin-bottom:1rem}
.contact-info{display:grid;grid-template-columns:repeat(auto-fit,minmax(160px,1fr));gap:1.2rem;margin-top:1.5rem}
.contact-card{background:rgba(255,255,255,0.05);padding:1.2rem;border-radius:12px;text-align:center;min-width:auto}
.contact-card h3{color:#ffd700;margin-bottom:1rem;font-size:1.1rem}
.contact-card a{color:#25d366;text-decoration:none;font-weight:500}
.contact-card a:hover{text-decoration:underline}
.category-management{margin:1rem 0;padding:1rem;background:rgba(255,255,255,0.05);border-radius:12px}
.category-management h3{color:#ffd700;margin-bottom:1rem}
.category-list{display:flex;flex-wrap:wrap;gap:0.5rem;margin-bottom:1rem}
.category-item{background:rgba(255,215,0,0.2);padding:0.5rem 1rem;border-radius:20px;display:flex;align-items:center;gap:0.5rem}
.category-item button{background:#e74c3c;color:white;border:none;border-radius:50%;width:20px;height:20px;cursor:pointer;font-size:0.7rem}

/* Page Headings */
.page h1, .page h2 {
  text-align: center;
  margin-bottom: 1.5rem;
  word-wrap: break-word;
  padding: 0 0.5rem;
}

#home h1 {
  font-size: 1.8rem !important;
}

#about h1 {
  font-size: 1.8rem !important;
}

#vendors h2 {
  font-size: 1.6rem !important;
}

#register h2 {
  font-size: 1.6rem !important;
}

#admin h2 {
  font-size: 1.6rem !important;
}

/* FIXED: Improved placeholder styling */
input::placeholder, textarea::placeholder {
  color: #ffd700 !important;
  opacity: 0.9 !important;
  font-weight: 500 !important;
}

/* FIXED: Sticky search bars */
#home .search-bar, #vendors .search-bar {
  position: sticky;
  top: 60px;
  z-index: 900;
  background: rgba(15,32,39,0.95);
  backdrop-filter: blur(12px);
  padding: 10px 0;
  margin: -10px 0 10px 0;
  border-bottom: 1px solid rgba(255,215,0,0.2);
}

/* Performance optimizations */
.vendor-box, .card, .feature-card {
  transform: translateZ(0);
  backface-visibility: hidden;
  perspective: 1000;
}

html {
  scroll-behavior: smooth;
}

.header, .search-bar {
  will-change: transform;
}

/* FIXED: Mobile-specific adjustments */
@media (max-width: 768px) {
  header{padding:0.6rem 3%;gap:0.5rem}
  .logo{font-size:1.3rem}
  .logo img{display:none}
  .datetime{font-size:0.7rem; position: static; transform: none; order: 2; width: auto;}
  nav{gap:0.5rem; order: 3; width: 100%; justify-content: space-around;}
  nav a{font-size:0.8rem;padding:0.3rem 0.4rem}
  .page{padding:4.5rem 2% 2rem; min-height: calc(100vh - 4.5rem);}
  .banner{padding:0.5rem}
  .banner h1{font-size:1.6rem; display: block !important;}
  .banner p{font-size:0.9rem}
  .card{padding:1rem}
  
  #home h1 {
    font-size: 1.6rem !important;
    display: block !important;
  }
  
  #about h1 {
    font-size: 1.6rem !important;
    display: block !important;
  }
  
  #vendors h2 {
    font-size: 1.4rem !important;
    display: block !important;
  }
  
  #register h2 {
    font-size: 1.4rem !important;
    display: block !important;
  }
  
  #admin h2 {
    font-size: 1.4rem !important;
    display: block !important;
  }
  
  #admin-body {
    font-size: 0.7rem;
  }
  
  #admin-body td, #admin-body th {
    padding: 4px 3px;
    font-size: 0.7rem;
  }
  
  #dashboard .glow-btn {
    display: block !important;
    visibility: visible !important;
  }
  
  input, select, textarea {
    font-size: 16px;
    padding: 0.8rem;
  }
}

@media (max-width: 480px) {
  header{flex-wrap:wrap;padding:0.5rem 2%}
  .logo{font-size:1.2rem; order: 1;}
  .datetime{font-size:0.65rem;order:2;width:auto;margin-top:0;}
  nav{order:3;gap:0.4rem;width:100%;justify-content:space-between}
  nav a{font-size:0.75rem;padding:0.3rem}
  .page{padding:4rem 1% 1.5rem; min-height: calc(100vh - 4rem);}
  .banner h1{font-size:1.4rem; display: block !important;}
  .card{padding:0.8rem}
  .vendor-grid{grid-template-columns:1fr}
  .footer-content{grid-template-columns:1fr;gap:1rem}
  
  #home h1 {
    font-size: 1.4rem !important;
    line-height: 1.2;
    display: block !important;
  }
  
  #about h1 {
    font-size: 1.4rem !important;
    line-height: 1.2;
    display: block !important;
  }
  
  #vendors h2 {
    font-size: 1.3rem !important;
    line-height: 1.2;
    display: block !important;
  }
  
  #register h2 {
    font-size: 1.3rem !important;
    line-height: 1.2;
    display: block !important;
  }
  
  #admin h2 {
    font-size: 1.3rem !important;
    line-height: 1.2;
    display: block !important;
  }
  
  .about-hero h1 {
    font-size: 1.4rem !important;
    line-height: 1.2;
    display: block !important;
  }
  
  .about-hero p {
    font-size: 0.9rem;
    line-height: 1.3;
  }
  
  #admin-body {
    font-size: 0.65rem;
  }
  
  #admin-body td, #admin-body th {
    padding: 3px 2px;
    font-size: 0.65rem;
  }
  
  #admin-body button {
    padding: 2px 4px;
    font-size: 0.6rem;
  }
  
  input, select, textarea {
    padding: 0.7rem;
  }
}

.placeholder-telugu::placeholder {
  font-family: 'Noto Sans Telugu', sans-serif;
  color: #ffd700 !important;
  opacity: 0.9 !important;
  font-weight: 500 !important;
}

.placeholder-english::placeholder {
  font-family: 'Inter', sans-serif;
  color: #ffd700 !important;
  opacity: 0.9 !important;
  font-weight: 500 !important;
}

.page {
  -webkit-overflow-scrolling: touch;
}

.container, .card, .banner, .footer-content {
  max-width: 100%;
  overflow-x: hidden;
}

.vendor-img {
  object-fit: cover;
  background: #203a43;
}

.share-btn {
  background: linear-gradient(45deg, #25d366, #128C7E) !important;
  color: white !important;
  border: none;
  padding: 0.6rem 1rem;
  border-radius: 50px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 0 15px rgba(37, 211, 102, 0.5);
  transition: 0.3s;
  font-size: 0.8rem;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.share-btn:hover {
  transform: scale(1.06);
  box-shadow: 0 0 25px rgba(37, 211, 102, 0.7);
}

.selected-row {
  background-color: rgba(255, 215, 0, 0.2) !important;
}

.contact-number {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  margin-left: 5px;
}

.update-form {
  background: rgba(255, 255, 255, 0.05);
  padding: 1rem;
  border-radius: 12px;
  margin-top: 1rem;
  border: 1px solid rgba(255, 215, 0, 0.3);
}

.update-form h4 {
  color: #ffd700;
  margin-bottom: 1rem;
  text-align: center;
}

.update-form input, .update-form select, .update-form textarea {
  margin-bottom: 0.8rem;
}

/* Vendor Edit Button */
.edit-btn {
  background: linear-gradient(45deg, #3498db, #2980b9) !important;
  color: white !important;
  border: none;
  padding: 0.6rem 1rem;
  border-radius: 50px;
  font-weight: 600;
  cursor: pointer;
  box-shadow: 0 0 15px rgba(52, 152, 219, 0.5);
  transition: 0.3s;
  font-size: 0.8rem;
  display: inline-flex;
  align-items: center;
  gap: 0.5rem;
}

.edit-btn:hover {
  transform: scale(1.06);
  box-shadow: 0 0 25px rgba(52, 152, 219, 0.7);
}

/* Vendor Edit Form */
.edit-form {
  background: rgba(255, 255, 255, 0.08);
  border-radius: 16px;
  padding: 1.5rem;
  margin-top: 1rem;
  border: 2px solid rgba(52, 152, 219, 0.5);
}

.edit-form h3 {
  color: #3498db;
  margin-bottom: 1rem;
  text-align: center;
}

.edit-form .form-actions {
  display: flex;
  gap: 0.8rem;
  justify-content: center;
  margin-top: 1rem;
}
</style>

</head>

<body>

<header>
  <div class="logo">
    <div class="logo" style="flex-direction:column;align-items:flex-start;gap:2px;">
      <div style="display:flex;align-items:center;gap:6px;">
        <span style="font-weight:700;background:linear-gradient(90deg,#ffd700,#ff8c00);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-size:1.8rem;">Lokonex</span>
      </div>
      <div class="telugu" style="font-size:0.85rem;color:#ffd700;margin-left:0px;">‡∞Æ‡∞® ‡∞ä‡∞∞‡±Å ‚Äì ‡∞Æ‡∞® ‡∞∏‡±á‡∞µ‡∞≤‡±Å ‚Äì ‡∞Æ‡∞® ‡∞ï‡∞®‡±Ü‡∞ï‡±ç‡∞ü‡±ç.</div>
    </div>
  </div>
  <div class="datetime" id="datetime">Loading...</div>
  <nav>
    <a onclick="show('home')">Home</a>
    <a onclick="show('about')">About</a>
    <a onclick="show('vendors')">Vendors</a>
    <a onclick="show('register')">Register</a>
    <a onclick="show('admin')">Admin</a>
  </nav>
</header>

<div id="home" class="page active">
  <div class="banner">
    <h1>Connecting People with Local Services</h1>
    <p style="font-size:1.2rem;margin:0.5rem 0">Quickly, Safely, and Simply</p>
    <p class="telugu">‡∞™‡±ç‡∞∞‡∞ú‡∞≤‡∞®‡±Å ‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞ø‡∞ï ‡∞∏‡±á‡∞µ‡∞≤‡∞§‡±ã ‡∞ï‡∞≤‡±Å‡∞™‡±Å‡∞§‡±ã‡∞Ç‡∞¶‡∞ø - ‡∞§‡±ç‡∞µ‡∞∞‡∞ó‡∞æ, ‡∞∏‡±Å‡∞∞‡∞ï‡±ç‡∞∑‡∞ø‡∞§‡∞Ç‡∞ó‡∞æ ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞∏‡∞∞‡∞≥‡∞Ç‡∞ó‡∞æ</p>
    <p style="font-size:1rem;margin:1rem 0">One Tap to Find Electricians, Plumbers, Packers,Tutors, Professionals & More!</p>
    <div class="search-bar">
      <input type="text" id="global-search" placeholder="Search name, service or area..." class="placeholder-english">
      <button class="glow-btn" onclick="optimizedGlobalSearch()">Search</button>
    </div>
    <div class="categories" id="categories"></div>
    
    <div class="project-features">
      <div class="feature-card">
        <i class="fas fa-search"></i>
        <h3>Find Vendors</h3>
        <p>Search and connect with verified local service providers</p>
        <p class="telugu">‡∞ß‡±É‡∞µ‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞ø‡∞® ‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞ø‡∞ï ‡∞∏‡±á‡∞µ‡∞æ ‡∞™‡±ç‡∞∞‡∞¶‡∞æ‡∞§‡∞≤‡∞®‡±Å ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞Ç‡∞°‡∞ø</p>
      </div>
      <div class="feature-card">
        <i class="fas fa-user-plus"></i>
        <h3>Register as Vendor</h3>
        <p>List your services and get more customers</p>
        <p class="telugu">‡∞Æ‡±Ä ‡∞∏‡±á‡∞µ‡∞≤‡∞®‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞∏‡±Å‡∞ï‡±ä‡∞®‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞®‡±ç‡∞®‡∞ø ‡∞ï‡∞∏‡±ç‡∞ü‡∞Æ‡∞∞‡±ç‡∞≤‡∞®‡±Å ‡∞™‡±ä‡∞Ç‡∞¶‡∞Ç‡∞°‡∞ø</p>
      </div>
      <div class="feature-card">
        <i class="fas fa-phone-alt"></i>
        <h3>Direct Contact</h3>
        <p>Call or WhatsApp vendors directly</p>
        <p class="telugu">‡∞µ‡±Ü‡∞Ç‡∞°‡∞∞‡±ç‡∞≤‡∞®‡±Å ‡∞®‡±á‡∞∞‡±Å‡∞ó‡∞æ ‡∞ï‡∞æ‡∞≤‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø ‡∞≤‡±á‡∞¶‡∞æ ‡∞µ‡∞æ‡∞ü‡±ç‡∞∏‡∞æ‡∞™‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø</p>
      </div>
      <div class="feature-card">
        <i class="fas fa-shield-alt"></i>
        <h3>Simple & Secure</h3>
        <p>Easy to use platform with transparent process</p>
        <p class="telugu">‡∞∏‡±Å‡∞≤‡∞≠‡∞Ç‡∞ó‡∞æ ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞¶‡∞ó‡∞ø‡∞® ‡∞™‡±ç‡∞≤‡∞æ‡∞ü‡±ç‚Äå‡∞´‡∞æ‡∞∞‡∞Æ‡±ç</p>
      </div>
    </div>
    
    <div class="legal-notice">
      <p><strong>Legal Notice:
<a href="legal.html" style="color: white; text-decoration: none;" onmouseover="this.style.textDecoration='underline'" onmouseout="this.style.textDecoration='none'">Click Here to Read Our Legal Policy</a>
</strong></p>
      <p>Lokonex only connects people ‚Äî we do not take money, manage services, or hold any responsibility for vendor actions or customer issues.</p>
      <p><strong>‡∞ö‡∞ü‡±ç‡∞ü‡∞™‡±Å ‡∞®‡±ã‡∞ü‡±Ä‡∞∏‡±Å:</strong></p>
      <p class="telugu">Lokonex ‡∞ï‡±á‡∞µ‡∞≤‡∞Ç ‡∞ï‡∞∏‡±ç‡∞ü‡∞Æ‡∞∞‡±ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞µ‡±Ü‡∞Ç‡∞°‡∞∞‡±ç‚Äå‡∞®‡∞ø ‡∞ï‡∞≤‡±Å‡∞™‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø ‚Äî ‡∞°‡∞¨‡±ç‡∞¨‡±Å, ‡∞∏‡±á‡∞µ‡∞≤ ‡∞®‡∞æ‡∞£‡±ç‡∞Ø‡∞§, ‡∞≤‡±á‡∞¶‡∞æ ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø‡∞≤‡∞™‡±à ‡∞¨‡∞æ‡∞ß‡±ç‡∞Ø‡∞§ ‡∞µ‡∞π‡∞ø‡∞Ç‡∞ö‡∞¶‡±Å.</p>
    </div>
  </div>
</div>

<div id="about" class="page">
  <div class="card">
    <div class="about-hero">
      <h1>About Lokonex</h1>
      <p class="telugu" style="font-size:1.4rem;color:#ffd700">‡∞≤‡±ã‡∞ï‡±ã‡∞®‡±Ü‡∞ï‡±ç‡∞∏‡±ç ‡∞ó‡±Å‡∞∞‡∞ø‡∞Ç‡∞ö‡∞ø</p>
      <p>Connecting with trusted local services since 2025</p>
      <p class="telugu">2025 ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞µ‡∞ø‡∞∂‡±ç‡∞µ‡∞∏‡∞®‡±Ä‡∞Ø ‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞ø‡∞ï ‡∞∏‡±á‡∞µ‡∞≤‡∞§‡±ã ‡∞ï‡∞≤‡±Å‡∞™‡±Å‡∞§‡±ã‡∞Ç‡∞¶‡∞ø</p>
    </div>
    
    <div class="about-content">
      <div class="about-section">
        <h2><i class="fas fa-bullseye icon-glow"></i> Our Mission</h2>
        <p>To empower every household in Hanamakonda with instant access to trusted local professionals ‚Äî electricians, tutors, mechanics, and more ‚Äî in one tap. We believe in strengthening local economies by connecting skilled professionals with those who need their services.</p>
        <p class="telugu"> ‡∞™‡±ç‡∞∞‡∞§‡∞ø ‡∞á‡∞Ç‡∞ü‡∞ø‡∞ï‡∞ø ‡∞µ‡∞ø‡∞∂‡±ç‡∞µ‡∞∏‡∞®‡±Ä‡∞Ø ‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞ø‡∞ï ‡∞®‡∞ø‡∞™‡±Å‡∞£‡±Å‡∞≤‡∞®‡±Å ‡∞í‡∞ï‡±ç‡∞ï ‡∞ü‡±ç‡∞Ø‡∞æ‡∞™‡±ç‚Äå‡∞≤‡±ã ‡∞Ö‡∞Ç‡∞¶‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç. ‡∞®‡±à‡∞™‡±Å‡∞£‡±ç‡∞Ø‡∞Ç ‡∞ï‡∞≤‡∞ø‡∞ó‡∞ø‡∞® ‡∞®‡∞ø‡∞™‡±Å‡∞£‡±Å‡∞≤‡∞®‡±Å ‡∞µ‡∞æ‡∞∞‡∞ø ‡∞∏‡±á‡∞µ‡∞≤‡±Å ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞Æ‡∞Ø‡±ç‡∞Ø‡±á ‡∞µ‡∞æ‡∞∞‡∞ø‡∞§‡±ã ‡∞ï‡∞≤‡∞™‡∞°‡∞Ç ‡∞¶‡±ç‡∞µ‡∞æ‡∞∞‡∞æ ‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞ø‡∞ï ‡∞Ü‡∞∞‡±ç‡∞•‡∞ø‡∞ï ‡∞µ‡±ç‡∞Ø‡∞µ‡∞∏‡±ç‡∞•‡∞≤‡∞®‡±Å ‡∞¨‡∞≤‡±ã‡∞™‡±á‡∞§‡∞Ç ‡∞ö‡±á‡∞Ø‡∞°‡∞Ç‡∞™‡±à ‡∞Æ‡∞æ‡∞ï‡±Å ‡∞®‡∞Æ‡±ç‡∞Æ‡∞ï‡∞Ç ‡∞â‡∞Ç‡∞¶‡∞ø.</p>
      </div>
      
      <div class="about-section">
        <h2><i class="fas fa-star icon-glow"></i> What We Offer</h2>
        <p>Lokonex provides a seamless platform for residents to find and connect with verified local service providers. Our platform ensures transparency, ease of use, and direct communication between customers and vendors.</p>
        <p class="telugu">‡∞≤‡±ã‡∞ï‡±ã‡∞®‡±Ü‡∞ï‡±ç‡∞∏‡±ç ‡∞®‡∞ø‡∞µ‡∞æ‡∞∏‡∞ø‡∞§‡±Å‡∞≤‡∞ï‡±Å ‡∞ß‡±É‡∞µ‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞ø‡∞® ‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞ø‡∞ï ‡∞∏‡±á‡∞µ‡∞æ ‡∞™‡±ç‡∞∞‡∞¶‡∞æ‡∞§‡∞≤‡∞®‡±Å ‡∞ï‡∞®‡±Å‡∞ó‡±ä‡∞®‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞µ‡∞æ‡∞∞‡∞ø‡∞§‡±ã ‡∞ï‡∞®‡±Ü‡∞ï‡±ç‡∞ü‡±ç ‡∞Ö‡∞µ‡±ç‡∞µ‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞™‡±ç‡∞≤‡∞æ‡∞ü‡±ç‚Äå‡∞´‡∞æ‡∞∞‡∞Æ‡±ç‚Äå‡∞®‡±Å ‡∞Ö‡∞Ç‡∞¶‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø. ‡∞Æ‡∞æ ‡∞™‡±ç‡∞≤‡∞æ‡∞ü‡±ç‚Äå‡∞´‡∞æ‡∞∞‡∞Æ‡±ç ‡∞™‡∞æ‡∞∞‡∞¶‡∞∞‡±ç‡∞∂‡∞ï‡∞§, ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡∞°‡∞Ç‡∞≤‡±ã ‡∞∏‡±å‡∞≤‡∞≠‡±ç‡∞Ø‡∞Ç ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞ï‡∞∏‡±ç‡∞ü‡∞Æ‡∞∞‡±ç‡∞≤‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞µ‡∞ø‡∞ï‡±ç‡∞∞‡±á‡∞§‡∞≤ ‡∞Æ‡∞ß‡±ç‡∞Ø ‡∞®‡±á‡∞∞‡±Å‡∞ó‡∞æ ‡∞ï‡∞Æ‡±ç‡∞Ø‡±Ç‡∞®‡∞ø‡∞ï‡±á‡∞∑‡∞®‡±ç‚Äå‡∞®‡±Å ‡∞®‡∞ø‡∞∞‡±ç‡∞ß‡∞æ‡∞∞‡∞ø‡∞∏‡±ç‡∞§‡±Å‡∞Ç‡∞¶‡∞ø.</p>
        
        <div class="about-highlights">
          <div class="highlight-item">
            <i class="fas fa-gift"></i>
            <h3>First 10 FREE</h3>
            <p class="telugu">‡∞Æ‡±ä‡∞¶‡∞ü‡∞ø 10 ‡∞Æ‡∞Ç‡∞¶‡∞ø ‡∞â‡∞ö‡∞ø‡∞§‡∞Ç</p>
          </div>
          <div class="highlight-item">
            <i class="fas fa-rupee-sign"></i>
            <h3>‚Çπ299 One-Time</h3>
            <p class="telugu">‚Çπ299 ‡∞í‡∞ï‡±ç‡∞ï‡∞∏‡∞æ‡∞∞‡∞ø ‡∞´‡±Ä‡∞ú‡±Å</p>
          </div>
          <div class="highlight-item">
            <i class="fas fa-calendar-alt"></i>
            <h3>1-Year Validity</h3>
            <p class="telugu">1 ‡∞∏‡∞Ç‡∞µ‡∞§‡±ç‡∞∏‡∞∞‡∞Ç ‡∞µ‡∞æ‡∞≤‡∞ø‡∞°‡∞ø‡∞ü‡±Ä</p>
          </div>
          <div class="highlight-item">
            <i class="fas fa-check-circle"></i>
            <h3>Verified Only</h3>
            <p class="telugu">‡∞ß‡±É‡∞µ‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞ø‡∞®‡∞µ‡∞ø ‡∞Æ‡∞æ‡∞§‡±ç‡∞∞‡∞Æ‡±á</p>
          </div>
        </div>
      </div>
      
      <div class="about-section">
        <h2><i class="fas fa-tools icon-glow"></i> Service Categories</h2>
        <p>We cover a wide range of services to meet all your local needs. Our service categories include: Electricians, Plumbers, Carpenters, Mechanics, Painters, Teachers/Tutors, Doctors/Clinics, Lawyers/Legal Advisors, Astrologers, Travel Agencies, Salons & Beauty Parlours, Tailors/Boutiques, and many more services to serve the Hanamakonda community.</p>
        <p class="telugu">‡∞Æ‡±Ä ‡∞Ö‡∞®‡±ç‡∞®‡∞ø ‡∞∏‡±ç‡∞•‡∞æ‡∞®‡∞ø‡∞ï ‡∞Ö‡∞µ‡∞∏‡∞∞‡∞æ‡∞≤‡∞®‡±Å ‡∞§‡±Ä‡∞∞‡±ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡±á‡∞Æ‡±Å ‡∞µ‡∞ø‡∞∏‡±ç‡∞§‡±É‡∞§ ‡∞∂‡±ç‡∞∞‡±á‡∞£‡∞ø ‡∞∏‡±á‡∞µ‡∞≤‡∞®‡±Å ‡∞ï‡∞µ‡∞∞‡±ç ‡∞ö‡±á‡∞∏‡±ç‡∞§‡∞æ‡∞Æ‡±Å. ‡∞Æ‡∞æ ‡∞∏‡±á‡∞µ‡∞æ ‡∞µ‡∞∞‡±ç‡∞ó‡∞æ‡∞≤‡∞≤‡±ã ‡∞á‡∞µ‡∞ø ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞Ø‡∞ø: ‡∞é‡∞≤‡∞ï‡±ç‡∞ü‡±ç‡∞∞‡±Ä‡∞∑‡∞ø‡∞Ø‡∞®‡±ç‡∞≤‡±Å, ‡∞™‡±ç‡∞≤‡∞Ç‡∞¨‡∞∞‡±ç‡∞≤‡±Å, ‡∞ï‡∞æ‡∞∞‡±ç‡∞™‡±Ü‡∞Ç‡∞ü‡∞∞‡±ç‡∞≤‡±Å, ‡∞Æ‡±Ü‡∞ï‡∞æ‡∞®‡∞ø‡∞ï‡±ç‡∞≤‡±Å, ‡∞™‡±Ü‡∞Ø‡∞ø‡∞Ç‡∞ü‡∞∞‡±ç‡∞≤‡±Å, ‡∞ü‡±Ä‡∞ö‡∞∞‡±ç‡∞≤‡±Å/‡∞ü‡±ç‡∞Ø‡±Ç‡∞ü‡∞∞‡±ç‡∞≤‡±Å, ‡∞°‡∞æ‡∞ï‡±ç‡∞ü‡∞∞‡±ç‡∞≤‡±Å/‡∞ï‡±ç‡∞≤‡∞ø‡∞®‡∞ø‡∞ï‡±ç‡∞≤‡±Å, ‡∞≤‡∞æ‡∞Ø‡∞∞‡±ç‡∞≤‡±Å/‡∞≤‡±Ä‡∞ó‡∞≤‡±ç ‡∞Ö‡∞°‡±ç‡∞µ‡±à‡∞ú‡∞∞‡±ç‡∞≤‡±Å, ‡∞ú‡±ç‡∞Ø‡±ã‡∞§‡∞ø‡∞∑‡±ç‡∞Ø‡±Å‡∞≤‡±Å, ‡∞ü‡±ç‡∞∞‡∞æ‡∞µ‡±Ü‡∞≤‡±ç ‡∞è‡∞ú‡±Ü‡∞®‡±ç‡∞∏‡±Ä‡∞≤‡±Å, ‡∞∏‡±Ü‡∞≤‡±Ç‡∞®‡±ç‡∞≤‡±Å & ‡∞¨‡±ç‡∞Ø‡±Ç‡∞ü‡±Ä ‡∞™‡∞æ‡∞∞‡±ç‡∞≤‡∞∞‡±ç‡∞≤‡±Å, ‡∞ü‡±à‡∞≤‡∞∞‡±ç‡∞≤‡±Å/‡∞¨‡±Ç‡∞ü‡∞ø‡∞ï‡±ç‡∞≤‡±Å ‡∞Æ‡∞∞‡∞ø‡∞Ø‡±Å ‡∞π‡∞®‡∞Æ‡∞ï‡±ä‡∞Ç‡∞° ‡∞∏‡∞Æ‡∞æ‡∞ú‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞∏‡±á‡∞µ‡∞≤‡∞Ç‡∞¶‡∞ø‡∞Ç‡∞ö‡∞°‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞∞‡∞ø‡∞®‡±ç‡∞®‡∞ø ‡∞∏‡±á‡∞µ‡∞≤‡±Å.</p>
      </div>
      
      <div class="about-section">
        <h2><i class="fas fa-headset icon-glow"></i> Contact Us</h2>
        <p>Have questions or need support? Our team is here to help you get the most out of Lokonex.</p>
        <p class="telugu">‡∞™‡±ç‡∞∞‡∞∂‡±ç‡∞®‡∞≤‡±Å ‡∞â‡∞®‡±ç‡∞®‡∞æ‡∞Ø‡∞æ ‡∞≤‡±á‡∞¶‡∞æ ‡∞Æ‡∞¶‡±ç‡∞¶‡∞§‡±Å ‡∞ï‡∞æ‡∞µ‡∞æ‡∞≤‡∞æ? ‡∞≤‡±ã‡∞ï‡±ã‡∞®‡±Ü‡∞ï‡±ç‡∞∏‡±ç ‡∞®‡±Å‡∞Ç‡∞°‡∞ø ‡∞ó‡∞∞‡∞ø‡∞∑‡±ç‡∞ü ‡∞™‡±ç‡∞∞‡∞Ø‡±ã‡∞ú‡∞®‡∞Ç ‡∞™‡±ä‡∞Ç‡∞¶‡∞°‡∞Ç‡∞≤‡±ã ‡∞Æ‡±Ä‡∞ï‡±Å ‡∞∏‡∞π‡∞æ‡∞Ø‡∞™‡∞°‡∞ü‡∞æ‡∞®‡∞ø‡∞ï‡∞ø ‡∞Æ‡∞æ ‡∞¨‡±É‡∞Ç‡∞¶‡∞Ç ‡∞á‡∞ï‡±ç‡∞ï‡∞°‡±á ‡∞â‡∞Ç‡∞¶‡∞ø.</p>
        
        <div class="contact-info">
          <div class="contact-card">
            <h3><i class="fas fa-phone"></i> Call Us</h3>
            <p><a href="tel:8500172644">8500172644</a></p>
          </div>
          <div class="contact-card">
            <h3><i class="fab fa-whatsapp"></i> WhatsApp</h3>
            <p><a href="https://wa.me/918500172644" target="_blank">Chat with Us</a></p>
          </div>
          <div class="contact-card">
            <h3><i class="fas fa-globe"></i> Website</h3>
            <p><a href="https://www.svrcomputers.in" target="_blank">www.svrcomputers.in</a></p>
          </div>
          <div class="contact-card">
            <h3><i class="fas fa-map-marker-alt"></i> Location</h3>
            <p>Julywada Circle, Hanamkonda Telangana</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>

<div id="vendors" class="page">
  <div class="card">
    <h2 style="text-align:center">Verified Local Vendors</h2>
    <div class="search-bar">
      <input type="text" id="vendor-search" placeholder="Search vendors..." class="placeholder-english">
      <button class="glow-btn" onclick="optimizedFilterVendors()">Go</button>
    </div>
    <div class="vendor-grid" id="vendor-grid"></div>
  </div>
</div>

<div id="register" class="page">
  <div class="card">
    <h2 style="text-align:center">Join as Vendor</h2>
    <form id="vendor-form">
      <label>Full Name * / ‡∞™‡±Ç‡∞∞‡±ç‡∞§‡∞ø ‡∞™‡±á‡∞∞‡±Å *</label>
      <input type="text" name="name" required placeholder="Enter your full name / ‡∞Æ‡±Ä ‡∞™‡±Ç‡∞∞‡±ç‡∞§‡∞ø ‡∞™‡±á‡∞∞‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø" class="placeholder-english">
      
      <label>Mobile * / ‡∞Æ‡±ä‡∞¨‡±à‡∞≤‡±ç *</label>
      <input type="tel" name="mobile" required placeholder="Enter your mobile number / ‡∞Æ‡±Ä ‡∞Æ‡±ä‡∞¨‡±à‡∞≤‡±ç ‡∞®‡∞Ç‡∞¨‡∞∞‡±ç ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø" class="placeholder-english">
      
      <label>Service Category * / ‡∞∏‡±á‡∞µ‡∞æ ‡∞µ‡∞∞‡±ç‡∞ó‡∞Ç *</label>
      <select name="service" id="service-select" onchange="toggleCustom(this,'custom-service')" required>
        <option value="">-- Select Service -- / ‡∞∏‡±á‡∞µ‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø --</option>
      </select>
      
      <input type="text" id="custom-service" name="custom_service" placeholder="Enter your service / ‡∞Æ‡±Ä ‡∞∏‡±á‡∞µ‡∞®‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø" class="placeholder-english">
      
      <label>Area * / ‡∞™‡±ç‡∞∞‡∞æ‡∞Ç‡∞§‡∞Ç *</label>
      <input type="text" name="area" required placeholder="Enter your area / ‡∞Æ‡±Ä ‡∞™‡±ç‡∞∞‡∞æ‡∞Ç‡∞§‡∞Ç ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø" class="placeholder-english">
      
      <label>Experience (Years) * / ‡∞Ö‡∞®‡±Å‡∞≠‡∞µ‡∞Ç (‡∞∏‡∞Ç‡∞µ‡∞§‡±ç‡∞∏‡∞∞‡∞æ‡∞≤‡±Å) *</label>
      <input type="number" name="exp" min="0" required placeholder="Enter years of experience / ‡∞Ö‡∞®‡±Å‡∞≠‡∞µ‡∞Ç ‡∞∏‡∞Ç‡∞µ‡∞§‡±ç‡∞∏‡∞∞‡∞æ‡∞≤‡±Å ‡∞®‡∞Æ‡±ã‡∞¶‡±Å ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø" class="placeholder-english">
      
      <label>Photo (Optional) / ‡∞´‡±ã‡∞ü‡±ã (‡∞ê‡∞ö‡±ç‡∞õ‡∞ø‡∞ï‡∞Ç)</label>
      <input type="file" name="photo" accept="image/*">
      <p> Pls Upload your photo size  below 20kb only. Photo Size above 20kb not accepted </p>
      <p>‡∞¶‡∞Ø‡∞ö‡±á‡∞∏‡∞ø ‡∞Æ‡±Ä ‡∞´‡±ã‡∞ü‡±ã‡∞®‡±Å 20KB ‡∞≤‡±ã‡∞™‡±Å ‡∞Æ‡∞æ‡∞§‡±ç‡∞∞‡∞Æ‡±á ‡∞Ö‡∞™‡±ç‚Äå‡∞≤‡±ã‡∞°‡±ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø. 20KB ‡∞ï‡∞Ç‡∞ü‡±á ‡∞é‡∞ï‡±ç‡∞ï‡±Å‡∞µ ‡∞∏‡±à‡∞ú‡±Å ‡∞â‡∞®‡±ç‡∞® ‡∞´‡±ã‡∞ü‡±ã‡∞≤‡±Å ‡∞Ö‡∞Ç‡∞ó‡±Ä‡∞ï‡∞∞‡∞ø‡∞Ç‡∞ö‡∞¨‡∞°‡∞µ‡±Å.</p> 

      
      <label>Description * / ‡∞µ‡∞ø‡∞µ‡∞∞‡∞£ *</label>
      <textarea name="desc" rows="3" required placeholder="Describe your services / ‡∞Æ‡±Ä ‡∞∏‡±á‡∞µ‡∞≤‡∞®‡±Å ‡∞µ‡∞ø‡∞µ‡∞∞‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø" class="placeholder-english"></textarea>
      
      <button type="submit" class="glow-btn" style="width:100%;padding:1rem;margin-top:1.5rem">
        Submit Registration / ‡∞®‡∞Æ‡±ã‡∞¶‡±Å‡∞®‡±Å ‡∞∏‡∞Æ‡∞∞‡±ç‡∞™‡∞ø‡∞Ç‡∞ö‡∞Ç‡∞°‡∞ø
      </button>
    </form>
  </div>
</div>

<div id="payment-page" class="page">
  <div class="card">
    <h2 style="text-align:center;color:#ffd700">Complete Payment</h2>
    <p style="font-size:1.1rem">First 50 FREE! You are #<b id="reg-number">51</b></p>
    <p style="font-size:1rem">‚Çπ299 Registration Fee</p>
    <img src="https://api.qrserver.com/v1/create-qr-code/?size=300x300&data=upi://pay?pa=8500172644@ybl&am=299&cu=INR&tn=Lokonex" alt="Pay QR">
    <p style="font-size:1rem;margin:1rem 0"><b>UPI ID:</b> <span style="color:#ffd700">8500172644@ybl</span></p>
    <button class="glow-btn" id="paid-btn" style="width:100%;padding:1rem;font-size:1rem">
      I Have Paid, Submit for Approval
    </button>
    <button class="glow-btn" onclick="show('home')" style="width:100%;margin-top:1rem;background:#666">
      Back to Home
    </button>
  </div>
</div>

<div id="admin" class="page">
  <div class="card">
    <div id="login-box">
      <h2 style="text-align:center">Admin Login</h2>
      <input type="text" id="admin-user" placeholder="Username" style="width:80%;padding:0.8rem;margin:1rem auto;display:block"><br>
      <input type="password" id="admin-pass" placeholder="Password" style="width:80%;padding:0.8rem;margin:1rem auto;display:block"><br>
      <button class="glow-btn" onclick="adminLogin()">Login</button>
    </div>
    <div id="dashboard" style="display:none;overflow-x:auto">
      <div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:1rem">
        <h2>Admin Dashboard</h2>
        <button class="glow-btn" onclick="adminLogout()" style="background:#e74c3c">Logout</button>
      </div>
      <p>Free Slots: <b id="free-slots">50</b> | Total: <b id="total-v">0</b></p>
      
      <div style="margin:1rem 0;padding:1rem;background:rgba(255,215,0,0.1);border-radius:12px;border:1px solid rgba(255,215,0,0.3)">
        <h3 style="color:#ffd700;margin-bottom:1rem;text-align:center">
          <i class="fas fa-shield-alt"></i> Data Protection Center
        </h3>
        <div style="display:grid;grid-template-columns:repeat(auto-fit,minmax(200px,1fr));gap:0.8rem;">
          <button class="glow-btn" onclick="completeOneClickBackup()" style="background:#27ae60">
            <i class="fas fa-download"></i> One-Click Backup
          </button>
          <button class="glow-btn" onclick="oneClickRestore()" style="background:#e67e22">
            <i class="fas fa-upload"></i> One-Click Restore
          </button>
          <button class="glow-btn" onclick="showEnhancedBackupInfo()" style="background:#3498db">
            <i class="fas fa-info-circle"></i> Backup Info
          </button>
          <button class="glow-btn" onclick="createAutoBackup()" style="background:#9b59b6">
            <i class="fas fa-sync"></i> Create Backup Now
          </button>
        </div>
      </div>
      
      <div class="category-management">
        <h3>Manage Service Categories</h3>
        <div style="display:flex;gap:0.5rem;margin-bottom:1rem">
          <input type="text" id="new-category" placeholder="New category name" style="flex:1">
          <button class="glow-btn" onclick="addCategory()">Add Category</button>
        </div>
        <div class="category-list" id="category-list"></div>
      </div>
      
      <h3>All Vendors</h3>
      <div style="margin-bottom:1rem">
        <button class="glow-btn" onclick="deleteSelected()" style="background:#e74c3c">Delete Selected</button>
        <button class="glow-btn" onclick="updateSelected()" style="background:#3498db">Update Selected</button>
        <button class="glow-btn" onclick="exportBackup()" style="background:#9b59b6">
          <i class="fas fa-download"></i> Export Backup
        </button>
        <button class="glow-btn" onclick="importBackup()" style="background:#2ecc71">
          <i class="fas fa-upload"></i> Import Backup
        </button>
        <button class="glow-btn" onclick="viewBackupInfo()" style="background:#f39c12">
          <i class="fas fa-info-circle"></i> Backup Info
        </button>
        <span id="selected-count" style="margin-left:10px;color:#ffd700">0 selected</span>
      </div>
      <input type="file" id="backup-file" accept=".json" style="display:none">
      <table style="width:100%;min-width:600px;border-collapse:collapse">
        <thead>
          <tr>
            <th><input type="checkbox" onclick="toggleAll(this)"></th>
            <th>Name</th>
            <th>Mobile</th>
            <th>Service</th>
            <th>Reg Date & Time</th>
            <th>Status</th>
            <th>Action</th>
          </tr>
        </thead>
        <tbody id="admin-body"></tbody>
      </table>
      
      <div id="update-form-container" style="display:none"></div>
    </div>
  </div>
</div>

<div id="popup">
  <h2 id="popup-title">Success!</h2>
  <p id="popup-msg">Done.</p>
  <button class="glow-btn" onclick="closePopup()">OK</button>
</div>

<div id="contact-popup">
  <h2>Important Notice</h2>
  <p>Lokonex only connects customers with vendors. We are not responsible for service quality, payments, or any issues that may arise.</p>
  <p class="telugu">‡∞≤‡±ã‡∞ï‡±ã‡∞®‡±Ü‡∞ï‡±ç‡∞∏‡±ç ‡∞ï‡±á‡∞µ‡∞≤‡∞Ç ‡∞ï‡∞∏‡±ç‡∞ü‡∞Æ‡∞∞‡±ç‡∞≤‡∞®‡±Å ‡∞µ‡±Ü‡∞Ç‡∞°‡∞∞‡±ç‡∞≤‡∞§‡±ã ‡∞ï‡∞≤‡±Å‡∞™‡±Å‡∞§‡±Å‡∞Ç‡∞¶‡∞ø. ‡∞∏‡±á‡∞µ ‡∞®‡∞æ‡∞£‡±ç‡∞Ø‡∞§, ‡∞ö‡±Ü‡∞≤‡±ç‡∞≤‡∞ø‡∞Ç‡∞™‡±Å‡∞≤‡±Å ‡∞≤‡±á‡∞¶‡∞æ ‡∞è‡∞µ‡±à‡∞®‡∞æ ‡∞∏‡∞Æ‡∞∏‡±ç‡∞Ø‡∞≤‡∞ï‡±Å ‡∞Æ‡±á‡∞Æ‡±Å ‡∞¨‡∞æ‡∞ß‡±ç‡∞Ø‡∞§ ‡∞µ‡∞π‡∞ø‡∞Ç‡∞ö‡∞Æ‡±Å.</p>
  <button class="glow-btn" onclick="proceedToContact()">I Understand</button>
  <button onclick="closeContactPopup()" style="background:#666;margin-left:0.5rem;margin-top:0.5rem">Cancel</button>
</div>

<footer>
  <div class="footer-content">
    <div class="footer-section">
      <h3>Quick Links</h3>
      <a onclick="show('home')">Home</a>
      <a onclick="show('about')">About</a>
      <a onclick="show('vendors')">Find Vendors</a>
      <a onclick="show('register')">Register as Vendor</a>
      <a href="legal.html" style="color: white; text-decoration: none;" onmouseover="this.style.textDecoration='underline'" onmouseout="this.style.textDecoration='none'">Legal Policy</a>
    </div>
    
    <div class="footer-section">
      <h3>Contact Info</h3>
      <p><i class="fas fa-phone"></i> <span class="contact-number">8500172644</span></p>
      <p><i class="fab fa-whatsapp"></i> <span class="contact-number">8500172644</span></p>
      <p><i class="fas fa-map-marker-alt"></i> Julywada Circle, <br> Hanamkonda, Telangana</p>
    </div>
    
    <div class="footer-section">
      <h3>Service Categories</h3>
      <p>Electricians ‚Ä¢ Plumbers ‚Ä¢ Tutors</p>
      <p>Mechanics ‚Ä¢ Painters ‚Ä¢ Doctors</p>
      <p>Salons ‚Ä¢ Tailors ‚Ä¢ And More...</p>
    </div>
    
    <div class="footer-section">
      <h3>Share This App</h3>
      <p>Help others discover Lokonex by sharing this app</p>
      <p class="telugu">‡∞≤‡±ã‡∞ï‡±ã‡∞®‡±Ü‡∞ï‡±ç‡∞∏‡±ç ‡∞Æ‡∞∞‡∞ø‡∞ï‡±ä‡∞Ç‡∞¶‡∞∞‡∞ø‡∞ï‡∞ø ‡∞∑‡±á‡∞∞‡±ç ‡∞ö‡±á‡∞∏‡∞ø, ‡∞µ‡∞æ‡∞∞‡±Å ‡∞ï‡±Ç‡∞°‡∞æ ‡∞à ‡∞Ö‡∞¶‡±ç‡∞≠‡±Å‡∞§‡∞Æ‡±à‡∞® ‡∞Ø‡∞æ‡∞™‡±ç‚Äå‡∞®‡±Å ‡∞â‡∞™‡∞Ø‡±ã‡∞ó‡∞ø‡∞Ç‡∞ö‡±á‡∞Ç‡∞¶‡±Å‡∞ï‡±Å ‡∞∏‡∞π‡∞æ‡∞Ø‡∞Ç ‡∞ö‡±á‡∞Ø‡∞Ç‡∞°‡∞ø</p>
      <button class="share-btn" onclick="shareApp()">
        <i class="fas fa-share-alt"></i> Share with Others
      </button>
    </div>
  </div>
  
  <div class="copyright">
    <p>¬© 2025 Lokonex . All rights reserved. <br> Designed and Developed by SVR Computers</p>
  </div>
</footer>

<!-- Add Firebase Scripts -->
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-database.js"></script>

<script>
// ==================== FIREBASE CONFIGURATION ====================
const FIREBASE_ENABLED = true; // Enable Firebase for cross-device sync

// Firebase configuration
// For Firebase JS SDK v7.20.0 and later, measurementId is optional
const firebaseConfig = {
  apiKey: "AIzaSyB8WfD7DneS5nQXOLxB6c_D-n9aFgttr_w",
  authDomain: "local-market2025.firebaseapp.com",
  databaseURL: "https://local-market2025-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "local-market2025",
  storageBucket: "local-market2025.firebasestorage.app",
  messagingSenderId: "1092213380873",
  appId: "1:1092213380873:web:d89bebc1bd8000cba525d8",
  measurementId: "G-HMZXGT78G0"
};

// Initialize Firebase
// Initialize Firebase with retry
let firebaseApp;
let database;

function initializeFirebaseWithRetry(retryCount = 0) {
  if (FIREBASE_ENABLED && typeof firebase !== 'undefined') {
    try {
      firebaseApp = firebase.initializeApp(firebaseConfig);
      database = firebase.database();
      console.log("üî• Firebase initialized successfully");
      setupRealtimeSync();
    } catch (error) {
      console.error("Firebase initialization failed, retrying...", error);
      
      // Retry up to 3 times
      if (retryCount < 3) {
        setTimeout(() => initializeFirebaseWithRetry(retryCount + 1), 3000);
      } else {
        console.error("üî• Firebase failed after 3 retries");
        // Show user-friendly error
        showFirebaseError();
      }
    }
  }
}

function showFirebaseError() {
  // Show error message to user
  const vendorGrid = document.getElementById('vendor-grid');
  if (vendorGrid) {
    vendorGrid.innerHTML = `
      <div style="text-align:center;grid-column:1/-1;padding:2rem">
        <i class="fas fa-exclamation-triangle" style="font-size:2rem;color:#ffd700"></i>
        <p>Network connection issue</p>
        <p style="font-size:0.9rem;color:#ccc">Please check your internet and refresh</p>
        <button class="glow-btn" onclick="location.reload()" style="margin-top:1rem">
          <i class="fas fa-redo"></i> Refresh Page
        </button>
      </div>
    `;
  }
}
// ==================== CORE APPLICATION ====================
const CACHE_KEYS = {
  VENDORS: 'vendors_v3',
  CATEGORIES: 'categories_v2',
  TIMESTAMP: 'data_timestamp'
};

let CATEGORIES = JSON.parse(localStorage.getItem(CACHE_KEYS.CATEGORIES)) || [
  "Electricians", "Plumbers", "Carpenters", "Mechanics", "Painters", 
  "Teachers / Tutors", "Doctors / Clinics", "Lawyers / Legal Advisors", 
  "Astrologers", "Travel Agencies", "Salons & Beauty Parlours", 
  "Tailors / Boutiques"
];

let vendors = JSON.parse(localStorage.getItem('vendors_v2')) || [];
let tempVendor = null;
let contactAction = null;
let searchTimeout;

// ==================== FIREBASE SYNC FUNCTIONS ====================

// Generate unique device ID
function getDeviceId() {
  let deviceId = localStorage.getItem('device_id');
  if (!deviceId) {
    deviceId = 'device_' + Date.now() + '_' + Math.random().toString(36).substr(2, 9);
    localStorage.setItem('device_id', deviceId);
  }
  return deviceId;
}

// Save vendors to Firebase
async function saveVendorsToFirebase() {
  if (!FIREBASE_ENABLED || !database) {
    console.log("Firebase not available, using localStorage only");
    return;
  }

  try {
    // Save all vendors to Firebase
    await database.ref('vendors').set(vendors);
    console.log("üíæ Vendors saved to Firebase:", vendors.length);
  } catch (error) {
    console.error("Firebase save error:", error);
  }
}

// Load vendors from Firebase
async function loadVendorsFromFirebase() {
  if (!FIREBASE_ENABLED || !database) {
    console.log("Firebase not available, using localStorage only");
    return;
  }

  try {
    const snapshot = await database.ref('vendors').once('value');
    const firebaseVendors = snapshot.val();
    
    if (firebaseVendors && Array.isArray(firebaseVendors)) {
      vendors = firebaseVendors;
      localStorage.setItem('vendors_v2', JSON.stringify(vendors));
      console.log("üì± Loaded vendors from Firebase:", vendors.length);
      showVendors();
      updateFreeSlots();
    }
  } catch (error) {
    console.error("Firebase load error:", error);
  }
}

// Real-time sync - listen for changes
function setupRealtimeSync() {
  if (!FIREBASE_ENABLED || !database) return;

  try {
    database.ref('vendors').on('value', (snapshot) => {
      const firebaseVendors = snapshot.val();
      if (firebaseVendors && Array.isArray(firebaseVendors)) {
        // Only update if data is different
        if (JSON.stringify(vendors) !== JSON.stringify(firebaseVendors)) {
          vendors = firebaseVendors;
          localStorage.setItem('vendors_v2', JSON.stringify(vendors));
          console.log("üîÑ Real-time sync: Vendors updated", vendors.length);
          showVendors();
          updateFreeSlots();
          
          // Update admin dashboard if visible
          if (document.getElementById('dashboard') && 
              document.getElementById('dashboard').style.display !== 'none') {
            showDashboard();
          }
        }
      }
    });
    console.log("üîÑ Real-time sync activated");
  } catch (error) {
    console.error("Real-time sync error:", error);
  }
}

// ==================== UPDATED VENDOR SAVE FUNCTION ====================

function saveVendor(photoData, f, isFree) {
  // Use simple SVG as default photo
  const defaultPhoto = 'data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTUwIiBoZWlnaHQ9IjE1MCIgdmlld0JveD0iMCAwIDE1MCAxNTAiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHJlY3Qgd2lkdGg9IjE1MCIgaGVpZ2h0PSIxNTAiIGZpbGw9IiMyMDNhNDMiLz48Y2lyY2xlIGN4PSI3NSIgY3k9IjYwIiByPSIyMCIgZmlsbD0iI2ZmZDcwMCIvPjxwYXRoIGQ9Ik0zMCAxMjBWMTEwQzMwIDk1IDQ1IDg1IDc1IDg1QzEwNSA4NSAxMjAgOTUgMTIwIDExMFYxMjAiIHN0cm9rZT0iI2ZmZDcwMCIgc3Ryb2tlLXdpZHRoPSIyIi8+PC9zdmc+';

  let finalPhoto = defaultPhoto;
  
  // Check if it's a valid data URL
  if (photoData && photoData.startsWith('data:image/')) {
    finalPhoto = photoData;
  }

  const vendor = {
    id: Date.now(),
    name: f.name.value.trim(),
    mobile: f.mobile.value.trim(),
    service: f.service.value === 'Others' ? f.custom_service.value.trim() : f.service.value,
    location: f.area.value.trim(),
    experience: f.exp.value,
    photo: finalPhoto, // Use SVG photo
    description: f.desc.value.trim(),
    paid: !isFree,
    approved: isFree,
    regDate: new Date().toLocaleDateString('en-IN'),
    regDateTime: new Date().toLocaleString('en-IN'),
    deviceId: getDeviceId(),
    timestamp: Date.now()
  };

  vendors.push(vendor);
  localStorage.setItem('vendors_v2', JSON.stringify(vendors));
  
  saveVendorsToFirebase().then(() => {
    console.log("‚úÖ Vendor saved and synced to all devices");
  });

  if (isFree) {
    popup('Registration Successful!', 'You are now LIVE on Lokonex! Your listing is active and visible to customers.');
    document.getElementById('vendor-form').reset();
    show('home');
  } else {
    document.getElementById('reg-number').textContent = vendors.filter(v => v.approved).length + 1;
    show('payment-page');
  }
  
  updateFreeSlots();
}

// ==================== UPDATED STORAGE FUNCTION ====================

function saveV() { 
  // Save to localStorage
  localStorage.setItem('vendors_v2', JSON.stringify(vendors));
  
  // Sync to Firebase
  if (FIREBASE_ENABLED) {
    saveVendorsToFirebase();
  }
}

// ==================== CORE FUNCTIONS ====================

function updateDateTime() {
  const now = new Date();
  const options = { 
    weekday: 'long', 
    year: 'numeric', 
    month: 'long', 
    day: 'numeric',
    hour: '2-digit',
    minute: '2-digit',
    second: '2-digit'
  };
  document.getElementById('datetime').textContent = now.toLocaleDateString('en-IN', options);
}
setInterval(updateDateTime, 1000);
updateDateTime();

function show(p) {
  localStorage.setItem('currentPage', p);
  document.querySelectorAll('.page').forEach(x => x.classList.remove('active'));
  document.getElementById(p).classList.add('active');
  window.scrollTo({ top: 0, behavior: 'smooth' });
  
  console.log("üìÑ Page changed to:", p);
  
  if (p === 'vendors') {
    console.log("üéØ Calling showVendors...");
    // Force call after page is visible
    setTimeout(() => {
      console.log("‚è∞ Timeout executed - calling showVendors");
      showVendors();
    }, 300);
  }
  if (p === 'admin') showDashboard();
  if (p === 'register') document.getElementById('vendor-form').reset();
}

function popup(t, m) {
  document.getElementById('popup-title').innerText = t;
  document.getElementById('popup-msg').innerText = m;
  document.getElementById('popup').classList.add('show');
}

function closePopup() { 
  document.getElementById('popup').classList.remove('show'); 
}

function updateCategoriesDisplay() {
  document.getElementById('categories').innerHTML = CATEGORIES.map(c => 
    `<div class="category-btn" onclick="filterByCategory('${c}')">${c}</div>`
  ).join('');
  
  const sel = document.getElementById('service-select');
  sel.innerHTML = '<option value="">-- Select Service -- / ‡∞∏‡±á‡∞µ‡∞®‡±Å ‡∞é‡∞Ç‡∞ö‡±Å‡∞ï‡±ã‡∞Ç‡∞°‡∞ø --</option>' + 
    CATEGORIES.map(c => `<option value="${c}">${c}</option>`).join('') + 
    '<option value="Others">Others</option>';

  updateAdminCategories();
}

function updateAdminCategories() {
  const categoryList = document.getElementById('category-list');
  if (categoryList) {
    categoryList.innerHTML = CATEGORIES.map(c => 
      `<div class="category-item">
        ${c}
        <button onclick="deleteCategory('${c}')">√ó</button>
      </div>`
    ).join('');
  }
}

function updateFreeSlots() {
  const free = 50 - vendors.filter(v => v.approved).length;
  document.getElementById('free-slots').textContent = Math.max(0, free);
}

function toggleCustom(sel, id) {
  document.getElementById(id).style.display = sel.value === 'Others' ? 'block' : 'none';
}

function isExpired(d) {
  const [dd,mm,yy] = d.split('/');
  const reg = new Date(yy, mm-1, dd);
  const exp = new Date(reg); exp.setFullYear(reg.getFullYear() + 1);
  return new Date() > exp;
}

function contactVendor(action, mobile) {
  contactAction = {action, mobile};
  document.getElementById('contact-popup').classList.add('show');
}

function proceedToContact() {
  if (contactAction) {
    if (contactAction.action === 'call') {
      location.href = `tel:${contactAction.mobile}`;
    } else if (contactAction.action === 'whatsapp') {
      window.open(`https://wa.me/91${contactAction.mobile}`);
    }
  }
  closeContactPopup();
}

function closeContactPopup() {
  document.getElementById('contact-popup').classList.remove('show');
  contactAction = null;
}

// ==================== VENDOR MANAGEMENT ====================

document.getElementById('vendor-form').addEventListener('submit', function(e) {
  e.preventDefault();
  const f = this.elements;
  
  const approvedCount = vendors.filter(v => v.approved).length;
  const isFree = approvedCount < 50;

  const photoFile = f.photo.files[0];
  let photoData = 'https://via.placeholder.com/150/203a43/ffd700?text=Photo';

  if (photoFile) {
    const reader = new FileReader();
    reader.onload = function(event) {
      photoData = event.target.result;
      saveVendor(photoData, f, isFree);
    };
    reader.readAsDataURL(photoFile);
  } else {
    saveVendor(photoData, f, isFree);
  }
});

document.getElementById('paid-btn').onclick = () => {
  const latestVendor = vendors
    .filter(v => !v.approved)
    .sort((a, b) => b.id - a.id)[0];
  
  if (latestVendor) {
    popup('Thank You!', 'Your registration is submitted successfully. Admin will approve soon.');
    show('home');
  } else {
    popup('Error', 'No pending registration found.');
  }
};

function showVendors(list = vendors.filter(v => v.approved && !isExpired(v.regDate))) {
  const grid = document.getElementById('vendor-grid');
  
  // Show loading state
  if (vendors.length === 0 && FIREBASE_ENABLED) {
    grid.innerHTML = `
      <div style="text-align:center;grid-column:1/-1;padding:2rem">
        <i class="fas fa-spinner fa-spin" style="font-size:2rem;color:#ffd700"></i>
        <p>Loading vendors...</p>
        <p style="font-size:0.8rem;color:#ccc">Please wait while we connect</p>
      </div>
    `;
    return;
  }
  
  if (list.length === 0) {
    grid.innerHTML = `
      <div style="text-align:center;grid-column:1/-1;padding:2rem">
        <i class="fas fa-search" style="font-size:2rem;color:#ffd700"></i>
        <p>No vendors found in your area</p>
        <p style="font-size:0.9rem;color:#ccc">Be the first to register!</p>
      </div>
    `;
    return;
  }
  
  // Show vendors
  grid.innerHTML = list.map(v => `
    <div class="vendor-box" data-id="${v.id}">
      <!-- Your existing vendor HTML -->
    </div>
  `).join('');
}

function showEditForm(vendorId) {
  const vendor = vendors.find(v => v.id === vendorId);
  if (!vendor) return;
  
  const vendorBox = document.querySelector(`.vendor-box[data-id="${vendorId}"]`);
  if (!vendorBox) return;
  
  const editForm = document.createElement('div');
  editForm.className = 'edit-form';
  editForm.innerHTML = `
    <h3>Edit Your Details</h3>
    <input type="text" id="edit-name" value="${vendor.name}" placeholder="Full Name">
    <input type="tel" id="edit-mobile" value="${vendor.mobile}" placeholder="Mobile">
    <select id="edit-service">
      ${CATEGORIES.map(c => `<option value="${c}" ${c === vendor.service ? 'selected' : ''}>${c}</option>`).join('')}
      <option value="Others" ${!CATEGORIES.includes(vendor.service) ? 'selected' : ''}>Others</option>
    </select>
    <input type="text" id="edit-custom-service" value="${!CATEGORIES.includes(vendor.service) ? vendor.service : ''}" placeholder="Custom Service" style="${CATEGORIES.includes(vendor.service) ? 'display:none' : ''}">
    <input type="text" id="edit-location" value="${vendor.location}" placeholder="Area">
    <input type="number" id="edit-experience" value="${vendor.experience}" placeholder="Experience (Years)">
    <textarea id="edit-description" placeholder="Description">${vendor.description}</textarea>
    <div class="form-actions">
      <button class="glow-btn" onclick="saveVendorEdit(${vendorId})">Save Changes</button>
      <button class="glow-btn" onclick="cancelEdit(${vendorId})" style="background:#666">Cancel</button>
    </div>
  `;
  
  vendorBox.style.display = 'none';
  vendorBox.parentNode.insertBefore(editForm, vendorBox.nextSibling);
  
  document.getElementById('edit-service').addEventListener('change', function() {
    document.getElementById('edit-custom-service').style.display = 
      this.value === 'Others' ? 'block' : 'none';
  });
}

function saveVendorEdit(vendorId) {
  const vendorIndex = vendors.findIndex(v => v.id === vendorId);
  if (vendorIndex === -1) return;
  
  const serviceValue = document.getElementById('edit-service').value;
  
  vendors[vendorIndex].name = document.getElementById('edit-name').value.trim();
  vendors[vendorIndex].mobile = document.getElementById('edit-mobile').value.trim();
  vendors[vendorIndex].service = serviceValue === 'Others' 
    ? document.getElementById('edit-custom-service').value.trim() 
    : serviceValue;
  vendors[vendorIndex].location = document.getElementById('edit-location').value.trim();
  vendors[vendorIndex].experience = document.getElementById('edit-experience').value;
  vendors[vendorIndex].description = document.getElementById('edit-description').value.trim();
  
  saveV();
  popup('Success', 'Your details have been updated successfully!');
  showVendors();
}

function cancelEdit(vendorId) {
  const vendorBox = document.querySelector(`.vendor-box[data-id="${vendorId}"]`);
  const editForm = vendorBox.nextSibling;
  
  if (editForm && editForm.classList.contains('edit-form')) {
    editForm.remove();
  }
  
  vendorBox.style.display = 'block';
}

// ==================== ADMIN FUNCTIONS ====================

let adminSession = false;

function adminLogin() {
  const user = document.getElementById('admin-user').value.trim();
  const pass = document.getElementById('admin-pass').value.trim();
  if (user === "svr" && pass === "2109") {
    adminSession = true;
    document.getElementById('login-box').style.display = "none";
    document.getElementById('dashboard').style.display = "block";
    showDashboard();
    popup('Login Success', 'Welcome Admin!');
  } else {
    popup('Login Failed', 'Invalid username or password.');
  }
}

function adminLogout() {
  adminSession = false;
  document.getElementById('dashboard').style.display = "none";
  document.getElementById('login-box').style.display = "block";
  popup('Logged Out', 'You have been logged out successfully.');
}

function showDashboard() {
  document.getElementById('total-v').textContent = vendors.length;
  const tbody = document.getElementById('admin-body');
  tbody.innerHTML = '';
  vendors.forEach(v => {
    const exp = isExpired(v.regDate);
    const status = exp ? '<span class="expired">Expired</span>' : (v.approved ? 'LIVE' : 'Pending');
    tbody.innerHTML += `<tr>
      <td><input type="checkbox" class="vendor-check" data-id="${v.id}" onchange="updateSelectedCount()"></td>
      <td>${v.name}</td>
      <td>${v.mobile}</td>
      <td>${v.service}</td>
      <td>${v.regDateTime || v.regDate}</td>
      <td>${status}</td>
      <td>
        ${!v.approved ? `<button class="glow-btn" style="background:#25d366" onclick="approve(${v.id})">Approve</button>` : ''}
      </td>
    </tr>`;
  });
  
  updateSelectedCount();
}

function updateSelectedCount() {
  const selected = document.querySelectorAll('.vendor-check:checked').length;
  document.getElementById('selected-count').textContent = `${selected} selected`;
  
  document.querySelectorAll('#admin-body tr').forEach(row => {
    const checkbox = row.querySelector('.vendor-check');
    if (checkbox && checkbox.checked) {
      row.classList.add('selected-row');
    } else {
      row.classList.remove('selected-row');
    }
  });
}

function toggleAll(source) {
  document.querySelectorAll('.vendor-check').forEach(cb => {
    cb.checked = source.checked;
    cb.dispatchEvent(new Event('change'));
  });
  updateSelectedCount();
}

function deleteSelected() {
  const selected = Array.from(document.querySelectorAll('.vendor-check:checked')).map(cb => parseInt(cb.dataset.id));
  if (selected.length === 0) {
    popup('Error', 'Please select at least one vendor to delete');
    return;
  }
  
  if (confirm(`Delete ${selected.length} vendor(s) forever?`)) {
    vendors = vendors.filter(v => !selected.includes(v.id));
    saveV();
    popup('Deleted', `${selected.length} vendor(s) removed successfully`);
    showDashboard(); 
    showVendors();
  }
}

function approve(id) {
  vendors = vendors.map(v => v.id === id ? {...v, approved: true} : v);
  saveV();
  popup('Approved!', 'Now LIVE');
  showDashboard(); 
  showVendors();
}

function addCategory() {
  const newCategoryInput = document.getElementById('new-category');
  const newCategory = newCategoryInput.value.trim();
  
  if (newCategory && !CATEGORIES.includes(newCategory)) {
    CATEGORIES.push(newCategory);
    saveCategories();
    updateCategoriesDisplay();
    newCategoryInput.value = '';
    popup('Success', 'Category added successfully');
  } else if (CATEGORIES.includes(newCategory)) {
    popup('Error', 'Category already exists');
  }
}

function deleteCategory(category) {
  if (confirm(`Are you sure you want to delete "${category}" category?`)) {
    CATEGORIES = CATEGORIES.filter(c => c !== category);
    saveCategories();
    updateCategoriesDisplay();
    popup('Success', 'Category deleted successfully');
  }
}

// ==================== SEARCH & FILTER ====================

function debounceSearch(func, delay = 300) {
  return function(...args) {
    clearTimeout(searchTimeout);
    searchTimeout = setTimeout(() => func.apply(this, args), delay);
  };
}

const optimizedGlobalSearch = debounceSearch(function() {
  const q = document.getElementById('global-search').value.toLowerCase().trim();
  if (q.length < 2) {
    showVendors();
    return;
  }
  
  const results = vendors.filter(v => v.approved && !isExpired(v.regDate) && 
    (v.name.toLowerCase().includes(q) || 
     v.service.toLowerCase().includes(q) || 
     v.location.toLowerCase().includes(q) ||
     v.description.toLowerCase().includes(q)));
  
  show('vendors'); 
  showVendors(results);
});

const optimizedFilterVendors = debounceSearch(function() {
  const q = document.getElementById('vendor-search').value.toLowerCase().trim();
  if (q.length < 2) {
    showVendors();
    return;
  }
  
  const results = vendors.filter(v => v.approved && !isExpired(v.regDate) && 
    (v.name.toLowerCase().includes(q) || 
     v.service.toLowerCase().includes(q) || 
     v.location.toLowerCase().includes(q) ||
     v.description.toLowerCase().includes(q)));
  
  showVendors(results);
});

function filterByCategory(c) {
  show('vendors');
  let filtered = vendors.filter(v => v.approved && !isExpired(v.regDate));
  if (c !== 'Others') {
    filtered = filtered.filter(v => v.service === c);
  } else {
    filtered = filtered.filter(v => !CATEGORIES.includes(v.service));
  }
  showVendors(filtered);
}

// ==================== STORAGE FUNCTIONS ====================

function saveCategories() {
  localStorage.setItem(CACHE_KEYS.CATEGORIES, JSON.stringify(CATEGORIES));
}

// ==================== BACKUP FUNCTIONS ====================

function completeOneClickBackup() {
  try {
    const backupData = {
      vendors: vendors,
      categories: CATEGORIES,
      timestamp: Date.now(),
      date: new Date().toLocaleString('en-IN'),
      totalVendors: vendors.length,
      totalCategories: CATEGORIES.length
    };

    const dataStr = JSON.stringify(backupData, null, 2);
    const dataBlob = new Blob([dataStr], { type: 'application/json' });
    const url = URL.createObjectURL(dataBlob);
    
    const link = document.createElement('a');
    link.href = url;
    link.download = `lokonex_complete_backup_${new Date().toISOString().split('T')[0]}.json`;
    document.body.appendChild(link);
    link.click();
    document.body.removeChild(link);
    
    setTimeout(() => URL.revokeObjectURL(url), 100);
    
    popup('Backup Complete', 'Data backup downloaded successfully!');
    
  } catch (error) {
    popup('‚ùå Backup Failed', 'Error: ' + error.message);
  }
}

function createAutoBackup() {
  popup('Backup Created', 'Auto-backup completed successfully!');
}

function showEnhancedBackupInfo() {
  popup('Backup Info', 'Backup system is ready to use!');
}

// ==================== SHARE FUNCTION ====================

function shareApp() {
  if (navigator.share) {
    navigator.share({
      title: 'Lokonex - Local Services Connect',
      text: 'Discover and connect with verified local service providers in your area',
      url: window.location.href
    })
    .then(() => console.log('Successful share'))
    .catch((error) => console.log('Error sharing:', error));
  } else {
    const shareUrl = window.location.href;
    navigator.clipboard.writeText(shareUrl).then(() => {
      popup('Success', 'App link copied to clipboard!');
    }).catch(() => {
      popup('Share App', 'Share this link: ' + shareUrl);
    });
  }
}

// ==================== INITIALIZATION ====================

window.onload = async () => {
  updateCategoriesDisplay();
  updateFreeSlots();
  
  // Initialize Firebase with retry (REPLACE THIS LINE)
  initializeFirebaseWithRetry();
  
  const savedPage = localStorage.getItem('currentPage') || 'home';
  show(savedPage);
  
  document.getElementById('vendor-form').reset();
  
  // Feature card clicks
  document.querySelectorAll('.feature-card').forEach(card => {
    card.style.cursor = 'pointer';
    card.onclick = () => {
      const title = card.querySelector('h3').textContent;
      if (title.includes('Find Vendors')) show('vendors');
      else if (title.includes('Register')) show('register');
    };
  });
};
</script>

<!-- Install App button -->
<button id="install-btn"
  style="position:fixed;top:65px;right:15px;z-index:999;
         background:linear-gradient(45deg,#ffd700,#ffb400);
         color:#000;border:none;border-radius:80px;
         padding:1.0rem 1rem;font-weight:300;
         box-shadow:0 0 5px rgba(255,215,0,0.6);
         font-size:0.7rem;cursor:pointer;display:flex;
         align-items:center;gap:0.4rem;">
  <i class="fas fa-download"></i> Install App
</button>

<!-- Toast popup -->
<div id="toast"
  style="visibility:hidden;min-width:240px;
         background:rgba(0,0,0,0.85);color:#fff;text-align:center;
         border-radius:50px;padding:0.8rem 1.2rem;
         position:fixed;z-index:9999;left:50%;bottom:80px;
         transform:translateX(-50%);font-size:0.9rem;
         opacity:0;transition:opacity 0.4s,bottom 0.4s;">
  App Installed Successfully!
</div>

</body>
</html>